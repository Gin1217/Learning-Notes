# HTTP 学习笔记

​	*参考链接：https://blog.csdn.net/coding93694/article/details/53523942*

​	Http，即**超文本传输协议**。

​	属于**应用层**的面向对象的协议，由**请求**和**响应**构成，是一个标准的C/S(客户端服务器)模型，适用于分布式超媒体信息系统。

- 主要特点

  - 支持客户/服务器模式。

  - 简单快速：客户向服务器请求服务时，只需传送**请求方法**和**路径**。

    - 方法：

      Get：使用GET方法时，请求参数和对应的值附加在URL后面，利用一个**问号**（“?”）代表URL的结尾与**请求参数的开始**，传递参数长度受限制，**各个数据之间用”&”符号隔开**，传送的数据**直接在浏览器的地址条里就能够看到。**由于不同浏览器对地址的字符**限制**不同，GET方法也受此影响。

      Post：将请求参数**封装**在HTTP请求数据中，以**名称/值**的形式出现，可以传输大量数据，POST方式**对传送的数据大小没有限制**，而且也**不会显示在URL中**。

      HEAD： 与GET方法类似，主要请求**获取响应**消息报头，**不会返回消息体**。一个HEAD请求的响应中，HTTP头中包含的元信息应该和一个GET请求的响应消息相同。主要用于**测试当前的状态**。

      其他还有Put，Delete，Trace，Options，Connect等。

  - 灵活
  - 无状态
  - HTTP 1.0是一个无连接的协议，即每次连接**只处理一个请求**。服务器处理完请求，**并收到应答后即断开连接。**

- Http请求报文

![截屏2020-09-2022.34.12](/Users/gin/Library/Application Support/typora-user-images/截屏2020-09-2022.34.12.png)

- Http相应报文

  

![截屏2020-09-2117.38.00](/Users/gin/Library/Application Support/typora-user-images/截屏2020-09-2117.38.00.png)

- 
  - 其中，典型的状态码有：
    - 303——建议客户访问其他URL或访问方式
    - 400——错误请求，如语法错误
    - 410——未授权
    - 403——禁止访问
    - 404——没有发现文件、查询或URL
    - HTTP 500——内部服务器错误
  - 一些常见响应头
    - Refresh：表示浏览器应该在多少时间之后刷新文档，以秒计。
    - Allow：服务器支持哪些请求方式。
    - 其他几种比如content-length，location等

- HTTP工作原理

  HTTP 协议采用请求/响应模型。客户端向服务器发送一个请求报文，服务器以一个状态作为响应。

  - 请求/响应步骤：
    - 客户端**连接到web服务**器：HTTP 客户端与web服务器建立一个 **TCP 连接**;
    - 客户端向服务器发起 HTTP 请求：通过已建立的TCP 连接，客户端向服务器**发送一个请求报文**
    - 服务器接收 HTTP 请求并**返回 HTTP 响应**：服务器解析请求，定位请求资源，服务器将资源副本写到 TCP 连接，由客户端读取;
    - 释放 TCP 连接：若connection 模式为close，则服务器主动 关闭TCP 连接，客户端被动关闭连接，释放TCP 连接;若connection 模式为keepalive，则该连接会保持一段时间，在该 时间内可以继续接收请求;
    - 客户端浏览器解析HTML内容：客户端将服务器响应的 **html**文本解析并显示;

- HTTP无状态解决方法——Cookie/Session简单了解

  - Cookie
    - **Cookie实际上是一小段的文本信息。**客户端请求服务器，如果服务器需要记录该用户状态，就使用response向客户端浏览器颁发一个Cookie。客户端浏览器会把Cookie**保存**起来。当浏览器再请求该网站时，浏览器把请求的网址连同该Cookie一同提交给服务器。服务器检查该Cookie，以此来辨认用户状态。服务器还可以根据需要修改Cookie的内容。
    - 查看某个网站颁发的Cookie： 在浏览器地址栏输入**JavaScript:alert (document. cookie)**就可以了
  - Session
    - Session是另一种记录客户状态的机制，不同的是Cookie保存在客户端浏览器中，而S**ession保存在服务器上。**客户端浏览器访问服务器的时候，服务器把客户端信息以某种形式记录在服务器上。这就是Session。客户端浏览器再次访问时只需要从该Session中查找该客户的状态就可以了。如同服务器端的档案。

- HTTP缓存机制

  - WEB**缓存(cache)**位于Web服务器和客户端之间。

    缓存会根据请求保存输出内容的副本，例如html页面，图片，文件。当下一个请求来到的时候：如果是相同的URL，缓存直接使用副本响应访问请求，而不是向源服务器再次发送请求。**一方面减少了延迟，另一方面也减少了带宽的消耗。**

  - HTTP定义了三种缓存机制：Freshness，Validation，Invalidation

  　　

